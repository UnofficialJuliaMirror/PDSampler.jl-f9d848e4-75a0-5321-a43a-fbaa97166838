<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · PDMP.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PDMP.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Introduction</a></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../examples/ex_gbps1.html">Global BPS (Truncated Gaussian)</a></li><li><a class="toctext" href="../examples/ex_lbps1.html">Local BPS (Chain of Gaussians)</a></li></ul></li><li><span class="toctext">Technical Documentation</span><ul><li><a class="toctext" href="../techdoc/types.html">Types</a></li></ul></li><li><span class="toctext">Contributing</span><ul><li class="current"><a class="toctext" href="examples.html">Examples</a><ul class="internal"><li><a class="toctext" href="#Syntax-of-the-test-file-1">Syntax of the test file</a></li><li><a class="toctext" href="#Full-workflow-1">Full workflow</a></li></ul></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Contributing</li><li><a href="examples.html">Examples</a></li></ul><a class="edit-page" href="https://github.com/alan-turing-institute/PDMP.jl/tree/522145b445da4a4e3d4a7fef4652323d2af50277/docs/src/contributing/examples.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Adding-examples-1" href="#Adding-examples-1">Adding examples</a></h1><p>Examples are a great way to showcase how to make use of a specific feature. We consider two types of examples:</p><ol><li><p>a simple example (running in &lt; 30 seconds)</p></li><li><p>a complex example (anything that&#39;s not in the first category)</p></li></ol><p>The simple examples are usually to be preferred since they can also be used as <em>tests</em>. For a big simulation (e.g.: use of LBPS for Probabilistic Matrix Factorisation) we recommend the use of separate Github repos including notebooks analysing the results.</p><p>A simple example can often be considered as a form of test by itself except with more documentation in order to clarify what is being done. The process in this project is therefore</p><ol><li><p>write the example as a test (see <a href="https://github.com/alan-turing-institute/PDMP.jl/blob/master/test/ex_gbps1.jl">this example</a> for reference)</p></li><li><p>run <code>readexamples.jl</code> in <code>doc/src</code> which will generate a markdown file which</p></li></ol><p>can be served by the documentation website.</p><h2><a class="nav-anchor" id="Syntax-of-the-test-file-1" href="#Syntax-of-the-test-file-1">Syntax of the test file</a></h2><p>The part of the test you want to appear in the documentation should be between two tags <code>#@startexample</code> and <code>#@endexample</code>:</p><pre><code class="language-julia">using Base.Test
#@startexample
...
#@endexample
@test ...</code></pre><p>Typically the part between the tags will contain no tests and will just showcase how to use a specific set of features while the part outside of the tags may ensure that the results obtained are correct.</p><p>The text that will be in the documentation should be written as multiline comments i.e.:</p><pre><code class="language-julia">#=
Everything here will be written as Markdown in the doc.
=#</code></pre><p>The rest of the code and comments that are in between the tags <code>#@startexample</code> and <code>#@endexample</code> will be copied in the doc as code blocks. A very simple example would be:</p><pre><code class="language-julia">using Base.Test
#@startexample
#=
# Name of the Test

In this example we will show how to find the maximum over a collection of random
numbers in Julia for all the numbers that are negative.
=#
a = randn(500)
# we use a comprehension
m = maximum(a[i] for i in 1:length(a) if a[i]&lt;0)
#=
That&#39;s it!
=#
#@endexample
@test m &lt; 0.0</code></pre><p>This will be converted to Markdown:</p><pre><code class="language-markdown"># Name of the Test

In this example we will show how to find the maximum over a collection of random
numbers in Julia for all the numbers that are negative.
 ```julia
a = randn(500)
# we use a comprehension
m = maximum(a[i] for i in 1:length(a) if a[i]&lt;0)
 ```
That&#39;s it!</code></pre><p><em>Remark</em>, the spaces in front of the triple backticks in the snippet above are not actually generated when you use <code>readexamples.jl</code>. The spaces are used here in order to escape these triple backticks so that the snippet does not end up being unduly fragmented in three pieces.</p><h2><a class="nav-anchor" id="Full-workflow-1" href="#Full-workflow-1">Full workflow</a></h2><ol><li><p>Write the example in the <code>PDMP/test/</code> directory following the examples</p></li></ol><p>present there and using the syntax mentioned above. Use the name convention <code>ex_NAME.jl</code>.</p><ol><li><p>Make sure this runs and tests pass.</p></li><li><p>Add the test at the bottom of <code>PDMP/test/runtests.jl</code> following code already</p></li></ol><p>present there.</p><ol><li><p>Navigate to <code>PDMP/docs</code> in your terminal and <code>julia readexamples</code>. This will</p></li></ol><p>generate the <code>.md</code> file corresponding to your example and place it in <code>PDMP/docs/src/examples/</code>. It will also do the same with all other examples (effectively refreshing those).</p><ol><li><p>In <code>PDMP/docs/make.jl</code> add the page name <code>ex_NAME.md</code> in the list under</p></li></ol><p><code>Examples</code> following code already present there.</p><ol><li><p>Git add, commit and push.</p></li></ol><footer><hr/><a class="previous" href="../techdoc/types.html"><span class="direction">Previous</span><span class="title">Types</span></a></footer></article></body></html>
