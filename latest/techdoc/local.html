<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Local sampler · PDMP.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/highlightjs/default.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/partial.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PDMP.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Introduction</a></li><li><a class="toctext" href="../aboutpdmp.html">About PDMP</a></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../examples/ex_gbps1.html">Global BPS</a></li><li><a class="toctext" href="../examples/ex_lbps1.html">Local BPS</a></li></ul></li><li><span class="toctext">Technical Documentation</span><ul><li><a class="toctext" href="structure.html">Code structure</a></li><li><a class="toctext" href="coretools.html">Core tools</a></li><li><a class="toctext" href="models.html">Models</a></li><li><a class="toctext" href="global.html">Global sampler</a></li><li class="current"><a class="toctext" href="local.html">Local sampler</a><ul class="internal"><li><a class="toctext" href="#Event-1">Event</a></li><li><a class="toctext" href="#Factor-Graph-1">Factor Graph</a></li><li><a class="toctext" href="#Simulate-1">Simulate</a></li></ul></li></ul></li><li><span class="toctext">Contributing</span><ul><li><a class="toctext" href="../contributing/addingexample.html">New example</a></li><li><a class="toctext" href="../contributing/addingfeature.html">New feature</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Technical Documentation</li><li><a href="local.html">Local sampler</a></li></ul><a class="edit-page" href="https://github.com/alan-turing-institute/PDMP.jl/tree/d8a78284710d2261dba2f4d3ce45577e5bd676fe/docs/src/techdoc/local.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Local sampler</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="td-localsampler-1" href="#td-localsampler-1">Local sampler</a></h1><p>Link to the source files:</p><ul><li><p><a href="https://github.com/alan-turing-institute/PDMP.jl/blob/master/src/local/event.jl"><code>local/event.jl</code></a></p></li><li><p><a href="https://github.com/alan-turing-institute/PDMP.jl/blob/master/src/local/factorgraph.jl"><code>local/factorgraph.jl</code></a></p></li><li><p><a href="https://github.com/alan-turing-institute/PDMP.jl/blob/master/src/local/simulate.jl"><code>local/simulate.jl</code></a></p></li></ul><h2><a class="nav-anchor" id="Event-1" href="#Event-1">Event</a></h2><h3><a class="nav-anchor" id="Hierarchy-of-types-1" href="#Hierarchy-of-types-1">Hierarchy of types</a></h3><p>The events in the local settings are triples of the form <code>(x,v,t)</code>. These can be encapsulated in the immutable <code>Event</code> type. Every node in the graph has a list of such events attached to it. For efficiency reasons, the list of event is not actually a list of <code>Event</code> but rather another type <code>EventList</code> which allows traversing the corresponding data structure efficiently.</p><p>The list of <code>EventList</code> (i.e. all events that have happened on the graph) is encapsulated in another type <code>AllEventList</code>.</p><h4><a class="nav-anchor" id="EventList-1" href="#EventList-1">EventList</a></h4><p>The <code>EventList</code> type corresponds to what is stored by a single node of the factor graph. It contains the list of positions <code>xs</code>, the list of velocities <code>vs</code> and the list of times <code>ts</code> associated with that node.</p><p>The function <code>getevent</code>, <code>getlastevent</code>, <code>pushevent!</code>, <code>getlocalsegment</code>, <code>samplelocalpath</code>, <code>quadpathpoly</code> and <code>pathmean</code> all work on an <code>EventList</code> object.</p><p>In other words, an <code>EventList</code> is analogous to the <code>Path</code> object of the global sampler.</p><h4><a class="nav-anchor" id="AllEventList-1" href="#AllEventList-1">AllEventList</a></h4><p>This is just a vector of <code>EventList</code>. It also keeps track of the types associated with each <code>EventList</code>. Indeed, each node may correspond to a variable of different dimensionality so these <code>types</code> make initialisation procedures simpler.</p><h3><a class="nav-anchor" id="Auxiliary-functions-1" href="#Auxiliary-functions-1">Auxiliary functions</a></h3><ul><li><p><code>getevent</code> retrieve an event in an <code>EventList</code></p></li><li><p><code>getlastevent</code> retrieve the last event of an <code>EventList</code></p></li><li><p><code>pushevent!</code> add an event to an <code>EventList</code></p></li><li><p><code>getlocalsegment</code> get an event and the subsequent event</p></li><li><p><code>samplelocalpath</code> sample the variable corresponding to a node by taking samples along the path described by the corresponding <code>EventList</code></p></li><li><p><code>quadpathpoly</code> integrate a polynomial along the path described by an <code>EventList</code></p></li></ul><h2><a class="nav-anchor" id="Factor-Graph-1" href="#Factor-Graph-1">Factor Graph</a></h2><h2><a class="nav-anchor" id="Simulate-1" href="#Simulate-1">Simulate</a></h2><footer><hr/><a class="previous" href="global.html"><span class="direction">Previous</span><span class="title">Global sampler</span></a><a class="next" href="../contributing/addingexample.html"><span class="direction">Next</span><span class="title">New example</span></a></footer></article></body></html>
